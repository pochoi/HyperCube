---
title: "Hypercube Estimator"
author: "Chi Po Choi, Amy T. Kim"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

Vignettes are long form documentation commonly included in packages. Because they are part of the distribution of the package, they need to be as compact as possible. The `html_vignette` output type provides a custom style sheet (and tweaks some options) to ensure that the resulting html is as small as possible. The `html_vignette` format:

- Never uses retina figures
- Has a smaller default figure size
- Uses a custom CSS stylesheet instead of the default Twitter Bootstrap style

## Vignette Info

```{r, fig.width=7, fig.height=5}
library(HyperCube)
canadian.earnings$age <- factor(canadian.earnings$age)
plot(as.numeric(as.character(canadian.earnings$age)), canadian.earnings$log.income,
     xlab = "age", ylab = "log(income)")

D <- diffMatrix(length(unique(canadian.earnings[,1])), 5)
lambda <- c(0, 10^c(2,5,8,11))
lcolor <- 1:5

for(k in 1:5) {
  W <- lambda[k] * t(D) %*% D
  V <- plsW2V(W)
  hcmod <- hypercube( log.income ~ age -1, data=canadian.earnings, V)
  lines(as.numeric(levels(canadian.earnings$age)), hcmod$coefficients, col = lcolor[k])
}
```


```{r}
hcmodopt <- hypercubeOptimization( weight ~ mother:infant -1, data = litter)
hcmodopt$projcoef
summary(hcmodopt$est)
```

